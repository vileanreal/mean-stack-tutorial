{"ast":null,"code":"import { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_shared/services/employee.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\n\nconst _c0 = function (a1) {\n  return [\"edit/\", a1];\n};\n\nfunction EmployeesListComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 4);\n    i0.ɵɵtext(9, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function EmployeesListComponent_tr_14_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const employee_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteEmployee(employee_r1._id || \"\"));\n    });\n    i0.ɵɵtext(11, \" Delete \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const employee_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r1.position);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r1.level);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, employee_r1._id));\n  }\n}\n\nconst _c1 = function () {\n  return [\"new\"];\n};\n\nexport class EmployeesListComponent {\n  constructor(employeesService) {\n    this.employeesService = employeesService;\n    this.employees$ = new Observable();\n  }\n\n  ngOnInit() {\n    this.fetchEmployees();\n  }\n\n  deleteEmployee(id) {\n    this.employeesService.deleteEmployee(id).subscribe({\n      next: () => this.fetchEmployees()\n    });\n  }\n\n  fetchEmployees() {\n    this.employees$ = this.employeesService.getEmployees();\n  }\n\n}\n\nEmployeesListComponent.ɵfac = function EmployeesListComponent_Factory(t) {\n  return new (t || EmployeesListComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService));\n};\n\nEmployeesListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmployeesListComponent,\n  selectors: [[\"app-employees-list\"]],\n  decls: 18,\n  vars: 5,\n  consts: [[1, \"text-center\", \"m-5\"], [1, \"table\", \"table-striped\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"routerLink\"], [1, \"btn\", \"btn-primary\", \"me-1\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function EmployeesListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"Employees List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\", 1)(3, \"thead\")(4, \"tr\")(5, \"th\");\n      i0.ɵɵtext(6, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Position\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Level\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"tbody\");\n      i0.ɵɵtemplate(14, EmployeesListComponent_tr_14_Template, 12, 6, \"tr\", 2);\n      i0.ɵɵpipe(15, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"button\", 3);\n      i0.ɵɵtext(17, \" Add a New Employee\\n\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(15, 2, ctx.employees$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1));\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink, i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llZXMtbGlzdC5jb21wb25lbnQuc2NzcyJ9 */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,UAAT,QAA2B,MAA3B;;;;;;;;;;;;;;ICYIC,2BAAgD,CAAhD,EAAgD,IAAhD;IACMA;IAAmBA;IACvBA;IAAIA;IAAuBA;IAC3BA;IAAIA;IAAoBA;IACxBA,2BAAI,CAAJ,EAAI,QAAJ,EAAI,CAAJ;IAKIA;IACFA;IACAA;IAEEA;MAAA;MAAA;MAAA;MAAA,OAASA,wDAA+B,EAA/B,EAAT;IAA2C,CAA3C;IAEAA;IACFA;;;;;IAfEA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IAIAA;IAAAA;;;;;;;;ADVV,OAAM,MAAOC,sBAAP,CAA6B;EAGjCC,YAAoBC,gBAApB,EAAqD;IAAjC;IAFpB,kBAAqC,IAAIJ,UAAJ,EAArC;EAEyD;;EAEzDK,QAAQ;IACN,KAAKC,cAAL;EACD;;EAEDC,cAAc,CAACC,EAAD,EAAW;IACvB,KAAKJ,gBAAL,CAAsBG,cAAtB,CAAqCC,EAArC,EAAyCC,SAAzC,CAAmD;MACjDC,IAAI,EAAE,MAAM,KAAKJ,cAAL;IADqC,CAAnD;EAGD;;EAEDA,cAAc;IACZ,KAAKK,UAAL,GAAkB,KAAKP,gBAAL,CAAsBQ,YAAtB,EAAlB;EACD;;AAjBgC;;;mBAAtBV,wBAAsBD;AAAA;;;QAAtBC;EAAsBW;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVnChB;MAA4BA;MAAcA;MAE1CA,iCAAkD,CAAlD,EAAkD,OAAlD,EAAkD,CAAlD,EAAkD,IAAlD,EAAkD,CAAlD,EAAkD,IAAlD;MAGUA;MAAIA;MACRA;MAAIA;MAAQA;MACZA;MAAIA;MAAKA;MACTA;MAAIA;MAAMA;MAIdA;MACEA;;MAmBFA;MAGFA;MACEA;MACFA;;;;MAxB6BA;MAAAA;MAsBQA;MAAAA","names":["Observable","i0","EmployeesListComponent","constructor","employeesService","ngOnInit","fetchEmployees","deleteEmployee","id","subscribe","next","employees$","getEmployees","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\vilea\\Desktop\\Work Stuffs\\Personal\\mean-stack-tutorial\\client\\src\\app\\employees-list\\employees-list.component.ts","C:\\Users\\vilea\\Desktop\\Work Stuffs\\Personal\\mean-stack-tutorial\\client\\src\\app\\employees-list\\employees-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Employee } from '../_shared/models/employee';\nimport { EmployeeService } from '../_shared/services/employee.service';\n\n@Component({\n  selector: 'app-employees-list',\n  templateUrl: './employees-list.component.html',\n  styleUrls: ['./employees-list.component.scss'],\n})\nexport class EmployeesListComponent implements OnInit {\n  employees$: Observable<Employee[]> = new Observable();\n\n  constructor(private employeesService: EmployeeService) {}\n\n  ngOnInit(): void {\n    this.fetchEmployees();\n  }\n\n  deleteEmployee(id: string) {\n    this.employeesService.deleteEmployee(id).subscribe({\n      next: () => this.fetchEmployees(),\n    });\n  }\n\n  fetchEmployees() {\n    this.employees$ = this.employeesService.getEmployees();\n  }\n}\n","<h2 class=\"text-center m-5\">Employees List</h2>\n\n<table class=\"table table-striped table-bordered\">\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Position</th>\n      <th>Level</th>\n      <th>Action</th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr *ngFor=\"let employee of employees$ | async\">\n      <td>{{ employee.name }}</td>\n      <td>{{ employee.position }}</td>\n      <td>{{ employee.level }}</td>\n      <td>\n        <button\n          class=\"btn btn-primary me-1\"\n          [routerLink]=\"['edit/', employee._id]\"\n        >\n          Edit\n        </button>\n        <button\n          class=\"btn btn-danger\"\n          (click)=\"deleteEmployee(employee._id || '')\"\n        >\n          Delete\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<button class=\"btn btn-primary mt-3\" [routerLink]=\"['new']\">\n  Add a New Employee\n</button>\n"]},"metadata":{},"sourceType":"module"}